error[E0080]: evaluation of `main::{constant#3}` failed
  --> $DIR/indexing_slicing_index.rs:31:14
   |
LL |     const { &ARR[idx4()] }; // Ok, let rustc handle const contexts.
   |              ^^^^^^^^^^^ index out of bounds: the length is 2 but the index is 4

error[E0080]: erroneous constant used
  --> $DIR/indexing_slicing_index.rs:31:5
   |
LL |     const { &ARR[idx4()] }; // Ok, let rustc handle const contexts.
   |     ^^^^^^^^^^^^^^^^^^^^^^ referenced constant has errors

error: indexing may panic
  --> $DIR/indexing_slicing_index.rs:22:5
   |
LL |     x[index];
   |     ^^^^^^^^
   |
   = help: consider using `.get(n)` or `.get_mut(n)` instead
   = note: `-D clippy::indexing-slicing` implied by `-D warnings`

error: indexing may panic
  --> $DIR/indexing_slicing_index.rs:38:5
   |
LL |     v[0];
   |     ^^^^
   |
   = help: consider using `.get(n)` or `.get_mut(n)` instead

error: indexing may panic
  --> $DIR/indexing_slicing_index.rs:39:5
   |
LL |     v[10];
   |     ^^^^^
   |
   = help: consider using `.get(n)` or `.get_mut(n)` instead

error: indexing may panic
  --> $DIR/indexing_slicing_index.rs:40:5
   |
LL |     v[1 << 3];
   |     ^^^^^^^^^
   |
   = help: consider using `.get(n)` or `.get_mut(n)` instead

error: indexing may panic
  --> $DIR/indexing_slicing_index.rs:46:5
   |
LL |     v[N];
   |     ^^^^
   |
   = help: consider using `.get(n)` or `.get_mut(n)` instead

error: indexing may panic
  --> $DIR/indexing_slicing_index.rs:47:5
   |
LL |     v[M];
   |     ^^^^
   |
   = help: consider using `.get(n)` or `.get_mut(n)` instead

error: aborting due to 8 previous errors

For more information about this error, try `rustc --explain E0080`.
Future incompatibility report: Future breakage diagnostic:
warning: any use of this value will cause an error
  --> $DIR/indexing_slicing_index.rs:10:24
   |
LL | const REF_ERR: &i32 = &ARR[idx4()]; // Ok, let rustc handle const contexts.
   | -------------------    ^^^^^^^^^^^ index out of bounds: the length is 2 but the index is 4
   |
   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>
note: the lint level is defined here
  --> $DIR/indexing_slicing_index.rs:6:10
   |
LL | #![allow(const_err, unconditional_panic, clippy::no_effect, clippy::unnecessary_operation)]
   |          ^^^^^^^^^

